# System Overview

## 概要
「Dot Unit」の基盤となる共通システムを定義する。  
ここではゲーム全体で参照されるリソース、ルール、管理要素をまとめる。

---

## リソース管理
### ゴールド
- 主な通貨。
- ユニット召喚や研究、アイテム購入に使用。
- バトルやクエストの勝利で獲得。

### アイテム
- 消費 / 永続 / 装備の3分類。
- 所持上限は基本無制限（設定変更可能）。
- 永続アイテムは全体効果を持つため、プレイヤー単位で管理。

### ユニット
- プレイヤーのコレクションに登録。
- 状態: 「未解放 / 解放済 / 墓地 / バトル中」。
- 墓地ユニットは戦闘中のみ存在。バトル終了時にリセット。

---

## 共通ルール
### フィールド
- 横7マス × 縦5マス。
- 中央を境界線として敵陣（左1〜3列）と自陣（右5〜7列）に分かれる。
- 最奥列（敵 = 1列目 / 自軍 = 7列目）の縦3マスを「本拠地」と定義。

### 本拠地ルール
- 勝利条件に関わる重要領域。
- 自軍ユニットが敵本拠地に3ターン連続滞在すると勝利。
- 逆に敵に自本拠地を制圧されると敗北。

### 墓地
- HPが0になったユニットは墓地送りとなる。
- 墓地送り後は復活不可。
- バトル終了時にリセット。

---

## ターンと行動
- 1ターン = 全ユニットの行動フェーズが1回ずつ処理される。
- 行動順序はユニットの「素早さ」ステータスに依存。
- 行動の種類:
  - **移動:** 上下左右1マス。斜め移動は一部ユニットのみ可。
  - **攻撃:** スキル範囲内の敵を対象にする。
  - **パス:** 行動スキップ。

---

## セーブ / ロード
- プレイヤーデータ（ユニット、アイテム、ゴールド、進行度）を保存。
- ブラウザ環境では LocalStorage または IndexedDB を想定。
- 将来的にサーバー同期型のセーブも可能。

---

## 想定UI要素
- **メインメニュー:** バトル / アイテム / ユニット / 研究 / 編成
- **ステータスバー:** ゴールド・所持アイテム・進行度表示
- **共通UI:** 戦闘中や研究画面で共通するリソース表示枠（ゴールド残高・墓地ユニット一覧など）
