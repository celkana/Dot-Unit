# Battle System

## 概要
- プレイヤーはフィールドを選択し、さらに複数ステージの中から挑戦するステージを選ぶ。
- バトルは **ターン制シミュレーション** で進行する。
- プレイヤーと敵は、それぞれの陣地にユニットを召喚して戦う。（召喚数はプレイヤーレベルやアイテム所持などで変わる。上限9体。）

---

## ステージ仕様
- **レイアウト:** 横7マス × 縦5マス
- **背景:** 画面上部に表示
- **陣地:**
  - 敵陣 → 左から1～3列
  - 自陣 → 左から5～7列
- **本拠地:** 最奥（敵陣 = 1列目、自陣 = 7列目）の縦3行目
- **ステージ属性:** ステージには属性があり特定の属性スキルの攻撃力を上げたり、特定の属性モンスター以外にステータス異常を与えたりする。
---

## バトル進行
1. **召喚フェーズ**  
   - プレイヤーと敵は陣地にユニットを配置する。
     - 召喚数はプレイヤーレベルやアイテム所持などで変わる。上限9体。

2. **ターン進行**  
   - 行動順序は **ユニットの素早さ** に基づいて決定。
   - ユニットは以下の行動を選択できる:
     - **移動:** 上下左右1マス。斜め移動は一部ユニットのみ可能（素早さに依存）。  
     - **攻撃:** スキルの攻撃範囲にいる敵ユニットにダメージを与える。  
     - **パス:** 行動をスキップする。

3. **ダメージ判定**  
   - 攻撃結果は各ユニットのステータス（攻撃力、防御力、属性など）で計算。
   - HPが0になったユニットは **墓地** に送られる。

---

## 勝利条件
- 以下のいずれかを満たすと勝利:
  1. 敵ユニットを全て墓地送りにする。
  2. 相手本拠地（縦3行目）に自軍ユニットを **3ターン連続配置** する。

---

## 想定UI
- **画面分割例:**
  - 上部 → ステージ背景
  - 中央 → 7×5マスのフィールド
  - 上部 → 行動選択パネル（移動 / 攻撃＞スキル / パス）
- **ユニット表示:**
  - HPバーとアイコン付き
  - 墓地送りユニットはフィールド外へ移動表示